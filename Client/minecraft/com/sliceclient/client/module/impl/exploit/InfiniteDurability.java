package com.sliceclient.client.module.impl.exploit;

import com.google.common.eventbus.Subscribe;
import com.sliceclient.client.event.impl.PacketEvent;
import com.sliceclient.client.module.Module;
import com.sliceclient.client.module.annotations.ModuleData;
import com.sliceclient.client.module.enums.ModuleCategory;
import com.sliceclient.client.module.impl.combat.AutoPot;

import net.minecraft.network.play.client.C02PacketUseEntity;
import net.minecraft.network.play.client.C03PacketPlayer;

@ModuleData(name = "Infinite Durability", category = ModuleCategory.EXPLOIT)
public class InfiniteDurability extends Module {

    private boolean attacked;

    @Subscribe
    public void onPacket(PacketEvent event) {
        if (event.getPacket() instanceof C02PacketUseEntity) {
            AutoPot.swap(9, mc.thePlayer.inventory.currentItem);
            attacked = true;
        }

        if (event.getPacket() instanceof C03PacketPlayer) {
            if (attacked) {
                attacked = false;
                AutoPot.swap(9, mc.thePlayer.inventory.currentItem);
            }
        }
    }

}
